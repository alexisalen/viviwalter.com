<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143908663-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-143908663-1');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="Vivi Walter photographer" />
    <meta name="keywords" content="photography, digital art, Carl Jung, gallery" />
    <meta name="developer" content="Alexis Walter">

    <link rel="shortcut icon" type="image/png" href="../src/img/favicon.png" />

    <!--<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">-->

    <link rel="stylesheet" type="text/css" href="..\src\css\styles.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500&display=swap" rel="stylesheet">

    <title>Vivi Walter fotograf√≠a</title>

    <style>
        .carousel {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
        }

        #imagen {
            width: 100%;
            height: 400px;
            background-size: cover;
        }
    </style>

    <script>
        window.onload = function () {
            // Variables
            const IMAGENES = [
                '/img/montanya.jpg',
                '../img/resonancias/resonancias_1.jpg',
                '..\src\img\reflejos\reflejos_1.jpg',
                '..\src\img\reflejos\reflejos_2.jpg',
                '..\src\img\reflejos\reflejos_3.jpg',
                '..\src\img\reflejos\reflejos_4.jpg',
                '..\src\img\reflejos\reflejos_5.jpg',
                '..\src\img\reflejos\reflejos_6.jpg',
                'src\img\resonancias\resonancias_1.jpg'
            ];
            const TIEMPO_INTERVALO_MILESIMAS_SEG = 1000;
            let posicionActual = 0;
            let $botonRetroceder = document.querySelector('#retroceder');
            let $botonAvanzar = document.querySelector('#avanzar');
            let $imagen = document.querySelector('#imagen');
            let $botonPlay = document.querySelector('#play');
            let $botonStop = document.querySelector('#stop');
            let intervalo;

            // Funciones

            /**
             * Funcion que cambia la foto en la siguiente posicion
             */
            function pasarFoto() {
                if (posicionActual >= IMAGENES.length - 1) {
                    posicionActual = 0;
                } else {
                    posicionActual++;
                }
                renderizarImagen();
            }

            /**
             * Funcion que cambia la foto en la anterior posicion
             */
            function retrocederFoto() {
                if (posicionActual <= 0) {
                    posicionActual = IMAGENES.length - 1;
                } else {
                    posicionActual--;
                }
                renderizarImagen();
            }

            /**
             * Funcion que actualiza la imagen de imagen dependiendo de posicionActual
             */
            function renderizarImagen() {
                $imagen.style.backgroundImage = `url(${IMAGENES[posicionActual]})`;
            }

            /**
             * Activa el autoplay de la imagen
             */
            function playIntervalo() {
                intervalo = setInterval(pasarFoto, TIEMPO_INTERVALO_MILESIMAS_SEG);
                // Desactivamos los botones de control
                $botonAvanzar.setAttribute('disabled', true);
                $botonRetroceder.setAttribute('disabled', true);
                $botonPlay.setAttribute('disabled', true);
                $botonStop.removeAttribute('disabled');

            }

            /**
             * Para el autoplay de la imagen
             */
            function stopIntervalo() {
                clearInterval(intervalo);
                // Activamos los botones de control
                $botonAvanzar.removeAttribute('disabled');
                $botonRetroceder.removeAttribute('disabled');
                $botonPlay.removeAttribute('disabled');
                $botonStop.setAttribute('disabled', true);
            }

            // Eventos
            $botonAvanzar.addEventListener('click', pasarFoto);
            $botonRetroceder.addEventListener('click', retrocederFoto);
            $botonPlay.addEventListener('click', playIntervalo);
            $botonStop.addEventListener('click', stopIntervalo);
            // Iniciar
            renderizarImagen();
        }
    </script>


</head>



<body>

    <!--Navbar-->
    <!---------->
    <nav>
        <ul>
            <li><a href="..\index.html">INICIO</a></li>
            <li><a href="..\pages\galeria.html">GALERIA</a></li>
            <li><a href="..\pages\vivi.html">VIVI</a></li>
            <li><a href="..\pages\contacto.html">CONTACTO</a></li>
        </ul>

        <div id="logo">
            <h1><strong>VIVI WALTER</strong></h1>
        </div>
    </nav>
    <!-------------->
    <!--Navbar end-->

    <!--Line-->
    <!-------->
    <div id="line">
    </div>
    <!-------->
    <!--Line-->


    <!--Carousel-->
    <!-------->
    <div class="galeria gal_sub">

        <div class="carousel">
            <button id="retroceder">Retroceder</button>
            <div id="imagen"></div>
            <button id="avanzar">Avanzar</button>
        </div>
        <div class="controles">
            <button id="play">Play</button>
            <button id="stop" disabled>Stop</button>
        </div>

    </div>
    <!------------>
    <!--Carousel-->




</body>

</html>